{"version":3,"file":"static/js/517.d14e31db.chunk.js","mappings":"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","sources":["Shared/Shelter/AdopterMangement/index.jsx","Shared/Shelter/ShelterWrapper/index.jsx","Pages/Admin/Abopters/index.jsx"],"sourcesContent":["import React, { useState, memo, useEffect } from \"react\";\r\nimport DataTable from \"../../DataTable\";\r\nimport {\r\n  Container,\r\n  Navbar,\r\n  NavbarBrand,\r\n  DropdownItem,\r\n  DropdownMenu,\r\n  DropdownToggle,\r\n  UncontrolledDropdown,\r\n} from \"reactstrap\";\r\nimport AddAdopterModal from \"../../Modals/AddAdopterModal\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  getAllAbopters,\r\n  getSingleAdopter,\r\n} from \"../../../Redux/features/User/userApi\";\r\nimport {\r\n  GET_ADOPTERS_OF_SHELTER,\r\n  Single_Adopter_User_List,\r\n} from \"../../../utils/constants\";\r\nimport PageHeading from \"../../Headings/PageHeading\";\r\nimport { format } from \"date-fns\";\r\nimport AddopterDetailsModal from \"../../Modals/AddopterDetailsModal\";\r\nimport { GrView } from \"react-icons/gr\";\r\nimport Pagination from \"../../Pagination\";\r\n\r\nconst AdopterDataTable = () => {\r\n  const [totalSize, setTotalSize] = useState();\r\n  const [tableData, setTableData] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [allAdopters, setAllAdopters] = useState([]);\r\n  const [shelterName, setShelterName] = useState([]);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [addVIewPopup, setAddViewPopup] = useState(false);\r\n  const { recordsPerPage } = useSelector((state) => state.user);\r\n  const [singleAdopterDetails, setSingleAdopterDetails] = useState({});\r\n\r\n  const handlePagination = (selected) => {\r\n    setCurrentPage(selected.selected + 1);\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const currentUrl = window.location.pathname;\r\n    const id = currentUrl.split(\"/\").pop();\r\n    const data = {\r\n      apiEndpoint:\r\n        GET_ADOPTERS_OF_SHELTER +\r\n        id +\r\n        `?page=${currentPage}&limit=${recordsPerPage}`,\r\n    };\r\n    dispatch(getAllAbopters(data)).then((res) => {\r\n      if (res.type === \"getAllAbopters/fulfilled\") {\r\n        setTotalSize(res.payload.pagination.totalCount);\r\n        setShelterName(res.payload.shelter);\r\n        setAllAdopters(res.payload.adopters);\r\n      }\r\n    });\r\n  }, [currentPage, recordsPerPage]);\r\n\r\n  const handleSingleShelteruser = async (id) => {\r\n    const data = {\r\n      apiEndpoint: Single_Adopter_User_List + id,\r\n    };\r\n    dispatch(getSingleAdopter(data)).then((res) => {\r\n      if (res.type === \"getSingleAdopter/fulfilled\") {\r\n        setSingleAdopterDetails(res?.payload?.adopter);\r\n      }\r\n    });\r\n  };\r\n\r\n  const toggleViewPopup = () => {\r\n    setAddViewPopup(!addVIewPopup);\r\n  };\r\n  const toggleModal = () => {\r\n    setIsModalOpen(!isModalOpen);\r\n  };\r\n\r\n  const columns = [\r\n    { label: \"Adopter Name\", dataKey: \"adopterName\", align: \"left\" },\r\n    { label: \"Email\", dataKey: \"email\", align: \"center\" },\r\n    { label: \"Invite Date\", dataKey: \"createdAt\", align: \"center\" },\r\n    { label: \"Redemption Status\", dataKey: \"redeemStatus\", align: \"center\" },\r\n    { label: \"Redemption Date \", dataKey: \"redemDate\", align: \"center\" },\r\n    { label: \"Action\", dataKey: \"action\", align: \"center\" },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (allAdopters && allAdopters.length > 0) {\r\n      let sheltersArray = [];\r\n\r\n      allAdopters.forEach((item) => {\r\n        sheltersArray.push({\r\n          adopterName: (\r\n            <span className={\"fw-bold\"}>\r\n              {item.firstName} {item.lastName}\r\n            </span>\r\n          ),\r\n          email: item.email,\r\n          createdAt: format(new Date(item.createdAt), \"yyyy-MM-dd\"),\r\n          redeemStatus: <span>{!item.redemStatus ? \"Not Yet\" : \"True\"}</span>,\r\n          redemDate:\r\n            item.redemStatus === true\r\n              ? format(new Date(item.redemDate), \"yyyy-MM-dd\")\r\n              : \"Not Redeemed Yet\",\r\n          action: (\r\n            <span className=\"\">\r\n              <UncontrolledDropdown>\r\n                <DropdownToggle className=\"p-0\" nav>\r\n                  <div className=\"bgProperties rounded-circle\">•••</div>\r\n                </DropdownToggle>\r\n                <DropdownMenu className=\"px-0 dropdown-custom-width position-fixed\">\r\n                  <DropdownItem\r\n                    onClick={() => {\r\n                      handleSingleShelteruser(item.id);\r\n                      toggleViewPopup();\r\n                    }}\r\n                    className=\"px-2 dropdown-custom-width-inner \"\r\n                  >\r\n                    <GrView className=\"mb-1 me-2\" />\r\n                    View\r\n                  </DropdownItem>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n            </span>\r\n          ),\r\n        });\r\n      });\r\n\r\n      setTableData(sheltersArray);\r\n    } else {\r\n      setTableData([]);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [allAdopters]);\r\n\r\n  return (\r\n    <Container>\r\n      <Navbar className=\"d-flex justify-content-between align-items-center m-0 p-0\">\r\n        <div className=\"d-flex justify-content-between align-items-center w-100\">\r\n          <NavbarBrand>\r\n            <PageHeading\r\n              // headingText={shelterName.shelterName}\\\r\n              headingText={\r\n                shelterName?.shelterName?.length > 20\r\n                  ? shelterName?.shelterName.slice(0, 20) + \"...\"\r\n                  : shelterName?.shelterName\r\n              }\r\n            />\r\n          </NavbarBrand>\r\n          <p className=\"m-0 text-green text-center fs-6\">\r\n            {totalSize} Adopters\r\n          </p>\r\n        </div>\r\n      </Navbar>\r\n      <hr className=\"mx-3 mb-4\" />\r\n      <div className=\"custom-shadow bg-white\">\r\n        <DataTable columns={columns} data={tableData} />\r\n        {totalSize > 10 && (\r\n          <Pagination\r\n            size={totalSize}\r\n            handlePageChange={handlePagination}\r\n            page={currentPage}\r\n          />\r\n        )}\r\n      </div>\r\n      <AddAdopterModal isOpen={isModalOpen} toggle={toggleModal} />\r\n      <AddopterDetailsModal\r\n        isOpen={addVIewPopup}\r\n        toggle={toggleViewPopup}\r\n        fetchSingleAdopters={singleAdopterDetails}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default memo(AdopterDataTable);\r\n","import React, { memo } from \"react\";\r\nimport AdopterDataTable from \"../AdopterMangement\";\r\n\r\nconst ShelterWrapper = () => {\r\n  return (\r\n    <div className=\"w-100 mt-3 \">\r\n      <AdopterDataTable />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(ShelterWrapper);\r\n","import React from \"react\";\r\nimport ShelterWrapper from \"../../../Shared/Shelter/ShelterWrapper\";\r\n\r\nconst Adopters = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <ShelterWrapper/>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Adopters;\r\n"],"names":["AdopterDataTable","_shelterName$shelterN","totalSize","setTotalSize","useState","tableData","setTableData","currentPage","setCurrentPage","allAdopters","setAllAdopters","shelterName","setShelterName","isModalOpen","setIsModalOpen","addVIewPopup","setAddViewPopup","recordsPerPage","useSelector","state","user","singleAdopterDetails","setSingleAdopterDetails","dispatch","useDispatch","useEffect","id","window","location","pathname","split","pop","data","apiEndpoint","GET_ADOPTERS_OF_SHELTER","getAllAbopters","then","res","type","payload","pagination","totalCount","shelter","adopters","toggleViewPopup","length","sheltersArray","forEach","item","push","adopterName","_jsxs","className","children","firstName","lastName","email","createdAt","format","Date","redeemStatus","_jsx","redemStatus","redemDate","action","UncontrolledDropdown","DropdownToggle","nav","DropdownMenu","DropdownItem","onClick","async","Single_Adopter_User_List","getSingleAdopter","_res$payload","adopter","handleSingleShelteruser","GrView","Container","Navbar","NavbarBrand","PageHeading","headingText","slice","DataTable","columns","label","dataKey","align","Pagination","size","handlePageChange","selected","page","AddAdopterModal","isOpen","toggle","toggleModal","AddopterDetailsModal","fetchSingleAdopters","memo","ShelterWrapper","Adopters","React"],"sourceRoot":""}