"use strict";(self.webpackChunkreact_boiler_plate=self.webpackChunkreact_boiler_plate||[]).push([[850],{3006:(e,a,l)=>{l.r(a),l.d(a,{default:()=>D});var t=l(2123),s=l(6543),n=l(9452),i=l(2739),d=l(3845),r=l(1349),o=l(5547),c=l(5475),u=l(3003),h=l(6036),m=l(8359),v=l(9553),p=l(5043),b=l(6058),x=l(461),g=l(579);x.t1.register(x.PP,x.kc,x.E8,x.hE,x.m_,x.s$);const y=e=>{let{graphData:a,mode:l}=e;const t="RedemptionsGraph"===l?{labels:null===a||void 0===a?void 0:a.map((e=>{var a;return null!==(a=null===e||void 0===e?void 0:e.day)&&void 0!==a?a:null===e||void 0===e?void 0:e.month})),datasets:[{label:"Sent but not redeemed",data:null===a||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.notRedeemedCount)),backgroundColor:"rgb(0, 102, 51)"},{label:"Redeemed",data:null===a||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.redeemedCount)),backgroundColor:"rgb(221, 173, 38)"}]}:{labels:null===a||void 0===a?void 0:a.map((e=>{var a;return null!==(a=null===e||void 0===e?void 0:e.state)&&void 0!==a?a:null===e||void 0===e?void 0:e.shelterName})),datasets:[{label:"Adopters Count",data:null===a||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.count)),backgroundColor:"rgb(0, 102, 51)"}]};return(0,g.jsx)(b.yP,{data:t,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!1,text:"Redemptions",color:"#003000",fontSize:"200px",fontWeight:"700"}},scales:{x:{beginAtZero:!0,max:100,ticks:{stepSize:20}},y:{beginAtZero:!0,ticks:{callback:function(e){return e}}}}}})};var j=l(9904),N=l(2327),f=l(2345),w=l(3082),A=l(5394),S=l(7475),k=l(2415),C=l(6592);const D=()=>{const e=(0,u.wA)(),[a,l]=(0,p.useState)([]),[b,x]=(0,p.useState)([]),[D,E]=(0,p.useState)("monthly"),[K,T]=(0,p.useState)({}),[R,P]=(0,p.useState)([]),[I,M]=(0,p.useState)(""),[G,O]=(0,p.useState)([]),[H,$]=(0,p.useState)(null),[L,_]=(0,p.useState)(),[W,B]=(0,p.useState)([]),[q,Z]=(0,p.useState)([]),[z,U]=(0,p.useState)([]),[Y,F]=(0,p.useState)([{startDate:new Date,endDate:(0,h.f)(new Date,0),key:"selection"}]);(0,p.useEffect)((()=>{e((0,t.NH)({apiEndpoint:"shelter/latestSubscription"})).then((e=>{var a,l;"recentOrders/fulfilled"===e.type&&U(null===e||void 0===e||null===(a=e.payload)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.subscriptions)})),(()=>{const a={apiEndpoint:s.bC};e((0,t.VK)(a)).then((e=>{var a,l,t;"dashboardCard/fulfilled"===e.type&&(x(null===e||void 0===e||null===(a=e.payload)||void 0===a?void 0:a.data),T(null===e||void 0===e||null===(l=e.payload)||void 0===l?void 0:l.GiveAways),_(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.repeatAdopters))}))})(),(()=>{const a={apiEndpoint:s.ko};e((0,t.kd)(a)).then((e=>{var a;"recentShelters/fulfilled"===e.type&&B(null===e||void 0===e||null===(a=e.payload)||void 0===a?void 0:a.shelters)}))})()}),[]),(0,p.useEffect)((()=>{(()=>{const a={apiEndpoint:`adopter/getAdopterCountByState?state=${I}`};e((0,t.bk)(a)).then((e=>{"getAllStateWiseData/fulfilled"===e.type&&P(null===e||void 0===e?void 0:e.payload)}))})()}),[I]);const V=(a,l)=>{const n={apiEndpoint:s.bC+`?startDate=${a}&endDate=${l}`};e((0,t.VK)(n)).then((e=>{var a,l,t;"dashboardCard/fulfilled"===e.type&&(x(null===e||void 0===e||null===(a=e.payload)||void 0===a?void 0:a.data),T(null===e||void 0===e||null===(l=e.payload)||void 0===l?void 0:l.GiveAways),_(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.repeatAdopters))}))};(0,p.useEffect)((()=>{const a={apiEndpoint:s._y+`?type=${D}`};e((0,t.Lv)(a)).then((e=>{var a;"getAllAdopterGraph/fulfilled"===e.type&&Z(null===e||void 0===e||null===(a=e.payload)||void 0===a?void 0:a.adopterData)}))}),[D]),(0,p.useEffect)((()=>{if(W&&W.length>0){let e=[];W.forEach((a=>{var l;e.push({shelterName:(null===(l=a.shelterName)||void 0===l?void 0:l.length)>20?a.shelterName.slice(0,20)+"...":a.shelterName,email:a.email,state:a.state,ratio:`${a.numberOfAdopters} /  ${a.numberOfPack}`,totalAdopters:a.inviteSent,redeem:a.inviteAccepted,status:a.status&&(0,o.DZ)(a.status),action:(0,g.jsx)("span",{children:(0,g.jsxs)(n.A,{children:[(0,g.jsx)(i.A,{className:"p-0",nav:!0,disabled:"WAITING"===a.status,children:(0,g.jsx)("div",{className:"bgProperties rounded-circle",children:"\u2022\u2022\u2022"})}),(0,g.jsx)(d.A,{className:"px-0 dropdown-custom-width position-fixed",children:(0,g.jsx)(r.A,{className:"px-2 dropdown-custom-width-inner fs-6",children:(0,g.jsxs)(c.N_,{to:`/admin/shelter/adopters/${a.id}`,className:"text-dark fs-6 text-decoration-none",children:[(0,g.jsx)(A.Zno,{className:"me-1 fs-6 mb-1"}),"Show Details"]})})})]})})})})),l(e)}else l([])}),[W]),(0,p.useEffect)((()=>{if(z&&z.length>0){let e=[];z.forEach((a=>{var l,t,s;e.push({shelterName:null===a||void 0===a||null===(l=a.Shelter)||void 0===l?void 0:l.shelterName,email:null===a||void 0===a||null===(t=a.Shelter)||void 0===t?void 0:t.email,state:null===a||void 0===a||null===(s=a.Shelter)||void 0===s?void 0:s.state,product:(null===a||void 0===a?void 0:a.productId)&&(0,o.qB)(null===a||void 0===a?void 0:a.productId),quantity:null===a||void 0===a?void 0:a.quantity,frequency:null===a||void 0===a?void 0:a.frequency,status:(null===a||void 0===a?void 0:a.status)&&(0,o.zE)(null===a||void 0===a?void 0:a.status),lastSentDate:(null===a||void 0===a?void 0:a.lastSentDate)&&(0,m.GP)(new Date(null===a||void 0===a?void 0:a.lastSentDate),"yyyy-MM-dd")})})),O(e)}else O([])}),[z]);const Q=[k.A.PetHome_Image,k.A.Order_Image,k.A.Shear_Image,k.A.Gift_Image],J=b.map(((e,a)=>({...e,cardImage:Q[a]})));return(0,g.jsxs)(j.A,{id:"dashboard",className:"mt-3",children:[(0,g.jsxs)(N.A,{className:"Title justify-content-between align-items-center gy-4",children:[(0,g.jsxs)(f.A,{sm:6,md:8,lg:9,xl:10,className:"leftside d-flex flex-column justify-content-center",children:[(0,g.jsx)(C.A,{headingText:"Dashboard"}),(0,g.jsx)("p",{className:"m-0",children:"Hi! Welcome back to Catalystpet Admin!"})]}),(0,g.jsx)(f.A,{sm:6,md:4,lg:3,xl:2,className:"custom-height rightside d-flex justify-content-end align-items-center",children:(0,g.jsx)(S.A,{setDateRange:F,dateRange:Y,handleSelect:e=>{F([e.selection]),V((0,m.GP)(new Date(e.selection.startDate),"yyyy-MM-dd"),(0,m.GP)(new Date(e.selection.endDate),"yyyy-MM-dd"))},handleClearClick:()=>{F([{startDate:new Date,endDate:new Date,key:"selection"}]),V("","")}})})]}),(0,g.jsx)("hr",{className:"mx-0"}),(0,g.jsx)(N.A,{className:"cards my-3",children:J.map(((e,a)=>(0,g.jsx)(f.A,{lg:3,md:6,sm:6,className:"cardContent gy-3",children:(0,g.jsxs)("div",{className:"content bg-white",children:[(0,g.jsx)("div",{className:"image",children:(0,g.jsx)("img",{src:null===e||void 0===e?void 0:e.cardImage,alt:""})}),(0,g.jsx)("div",{className:"text",children:(0,g.jsxs)("center",{children:[(0,g.jsx)("p",{className:"m-0",children:e.count}),(0,g.jsx)("p",{className:"m-0 fs-6 fw-bold",children:e.label})]})})]})},a)))}),(0,g.jsxs)(N.A,{className:"graphChart gy-3",children:[(0,g.jsx)(f.A,{lg:9,md:12,children:(0,g.jsxs)("div",{className:"Chart bg-white",children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,g.jsx)("h2",{className:"text-darkgreen fs-4 fw-bolder ms-4",children:"Redemptions"}),(0,g.jsx)(w.A,{name:"duration",Options:s.Hm,value:D,onChangeHandle:e=>E(e.target.value),showPlaceholder:!1,className:"shadow-0 border rounded-3"})]}),(0,g.jsx)(y,{mode:"RedemptionsGraph",graphData:q})]})}),(0,g.jsxs)(f.A,{lg:3,md:12,className:"giveAways bg-white",children:[(0,g.jsx)("div",{className:"giveaways-card ",children:(0,g.jsxs)("div",{className:"giveawaysHead",children:[(0,g.jsx)("div",{className:"giveaways-header",children:(0,g.jsx)("h2",{children:"Overall Repeat Count"})}),(0,g.jsx)("div",{className:"giveaways-body",children:(0,g.jsx)("div",{className:"giveaway-item shelters",children:(0,g.jsx)("span",{children:null===L||void 0===L?void 0:L.adopterRepeatPercentage})})})]})}),(0,g.jsxs)("div",{className:"giveaways-card ",children:[(0,g.jsxs)("div",{className:"giveawaysHead",children:[(0,g.jsx)("div",{className:"giveaways-header",children:(0,g.jsx)("h2",{children:"Giveaways"})}),(0,g.jsxs)("div",{className:"giveaways-body",children:[(0,g.jsxs)("div",{className:"giveaway-item shelters",children:[(0,g.jsx)("p",{children:"Shelters Giveaways"}),(0,g.jsx)("span",{children:null===K||void 0===K?void 0:K.TotalSheltersGiveAways})]}),(0,g.jsxs)("div",{className:"giveaway-item adopters",children:[(0,g.jsx)("p",{children:"Adopters Giveaways"}),(0,g.jsx)("span",{children:K.TotalAdoptersGiveAways})]})]})]}),(0,g.jsxs)("div",{className:"giveaways-footer pt-3",children:[(0,g.jsx)("span",{className:"total",children:K.Total}),(0,g.jsx)("span",{className:"label",children:"Total"})]})]})]})]}),(0,g.jsxs)(N.A,{children:[(0,g.jsx)(f.A,{md:12,className:"p-0",children:(0,g.jsxs)("div",{className:"notification mt-3 py-4 bg-white",children:[(0,g.jsxs)("div",{className:"heading d-flex justify-content-between align-items-center",children:[(0,g.jsx)("h2",{className:"text-darkgreen fs-4 fw-bolder",children:"Recent 5 Shelters"}),(0,g.jsx)(c.N_,{to:"/admin/shelter",className:"text-black fw-bold",children:(0,g.jsx)("p",{children:"See all"})})]}),(0,g.jsx)("div",{className:""}),(0,g.jsx)(v.A,{columns:s.Z,data:a})]})}),(0,g.jsx)(f.A,{md:12,className:"p-0",children:(0,g.jsxs)("div",{className:"notification mt-2 mb-3 py-4 mx-2 bg-white",children:[(0,g.jsxs)("div",{className:"heading d-flex justify-content-between align-items-center",children:[(0,g.jsx)("h2",{className:"text-darkgreen fs-4 fw-bolder",children:"Recent 5 Orders"}),(0,g.jsx)(c.N_,{to:"/admin/orderHistory",className:"text-black fw-bold",children:(0,g.jsx)("p",{children:"See all"})})]}),(0,g.jsx)(v.A,{columns:s.QK,data:G})]})}),(0,g.jsx)(f.A,{md:12,className:"graphChart p-0",children:(0,g.jsxs)("div",{className:"Chart bg-white",children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,g.jsx)("h2",{className:"text-darkgreen fs-4 fw-bolder ms-4",children:"State Wise Shelters Data"}),(0,g.jsx)(w.A,{name:"selectOneState",Options:s.Go,value:I,onChangeHandle:e=>M(e.target.value),placeholder:"All States",className:"shadow-0 border rounded-3"})]}),(0,g.jsx)(y,{mode:"StateGraph",graphData:R})]})})]})]})}},9553:(e,a,l)=>{l.d(a,{A:()=>r});var t=l(5043),s=(l(6884),l(1452)),n=l(9342),i=l(579);const d=e=>{let{columns:a,data:l}=e;const[d,r]=(0,t.useState)({key:"null",direction:"asc"}),o=t.useMemo((()=>{if(null!==d.key){return[...l].sort(((e,a)=>e[d.key]<a[d.key]?"asc"===d.direction?-1:1:e[d.key]>a[d.key]?"asc"===d.direction?1:-1:0))}return l}),[l,d]);return(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsxs)(s.XI,{className:"table table-bordered table-hover border-success w-100 p-0 m-0",children:[(0,i.jsx)(s.d8,{className:"text-yellow bg-green",children:(0,i.jsx)(s.Tr,{children:a.map(((e,a)=>(0,i.jsxs)(s.Th,{className:"p-2 text-yellow bg-green  "+(e.align?`text-${e.align}`:""),onClick:()=>(e=>{let a="asc";d.key===e&&"asc"===d.direction&&(a="desc"),r({key:e,direction:a})})(e.dataKey),children:[e.label,"Status"!==e.label&&"Action"!==e.label&&"Subscription Status"!==e.label&&"Redemption Status"!==e.label&&(0,i.jsx)("span",{className:"ml-2 cursorPointer",children:(0,i.jsx)(n.LTM,{size:16})})]},a)))})}),0===o.length?(0,i.jsx)(s.NN,{children:(0,i.jsx)(s.Tr,{children:a.map(((e,a)=>(0,i.jsx)(s.Td,{className:"p-2 text-green fw-bold text-center",children:"---"},a)))})}):(0,i.jsx)(s.NN,{children:o.map(((e,l)=>(0,i.jsx)(s.Tr,{children:a.map(((a,l)=>(0,i.jsx)(s.Td,{className:"p-2 "+(a.align?`text-${a.align}`:""),children:e[a.dataKey]},l)))},l)))})]})})},r=(0,t.memo)(d)},7475:(e,a,l)=>{l.d(a,{A:()=>d});var t=l(5043),s=l(3412),n=l(6347),i=l(579);const d=e=>{let{dateRange:a,setDateRange:l,handleSelect:d,handleClearClick:r}=e;const[o,c]=(0,t.useState)(!1),u=(0,t.useRef)(null);return(0,t.useEffect)((()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&c(!1)};return o?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[o]),(0,i.jsxs)("div",{className:"main-dateRange position-relative",children:[(0,i.jsx)("label",{htmlFor:"DateRange",className:"custom-lable",onClick:()=>{c(!o)},children:(0,i.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,i.jsx)("span",{className:"pt-1 pe-2 fs-6",children:s.kM}),(0,i.jsx)("p",{className:"m-0 pt-2",children:"Date Range"})]})}),o&&(0,i.jsxs)("div",{className:"position-absolute end-0 custom-top bg-white shadow-lg rounded-3",ref:u,children:[(0,i.jsx)(n.ad,{id:"DateRange",onChange:d,moveRangeOnFirstSelection:!1,showSelectionPreview:!0,ranges:a,direction:"vertical",maxDate:new Date}),(0,i.jsx)("button",{onClick:r,className:"btn bg-green text-white py-1 px-2 mt-0 font-12 mx-3 mb-3",children:"Clear"})]})]})}},6592:(e,a,l)=>{l.d(a,{A:()=>i});var t=l(5043),s=l(579);const n=e=>{let{headingText:a,className:l,style:n}=e;return(0,s.jsx)(t.Fragment,{children:(0,s.jsx)("h2",{className:`fw-bold text-darkgreen  ${l} heading`,style:{style:n,textTransform:"camelCase"},children:a})})},i=(0,t.memo)(n)},3082:(e,a,l)=>{l.d(a,{A:()=>n});l(5043);var t=l(7493),s=l(579);const n=e=>{const{Options:a,className:l,name:n,onChangeHandle:i,onBlurHandle:d,placeholder:r,showPlaceholder:o=!0,value:c,label:u,labelClass:h,disabled:m}=e;return(0,s.jsxs)("div",{className:"mb-0 customSelect text-custom-dark",children:[(0,s.jsx)(t.A,{className:`${h} mb-0 p-0 fw-bold`,children:u}),(0,s.jsxs)("select",{className:`customDropdownRadius w-100 form-control-lg ${l}`,name:n,onChange:i,onBlur:d,value:c,disabled:m,children:[o&&(0,s.jsx)("option",{value:"",children:r}),a&&(null===a||void 0===a?void 0:a.map(((e,a)=>(0,s.jsx)("option",{value:null===e||void 0===e?void 0:e.value,children:e.label},a))))]})]})}},6543:(e,a,l)=>{l.d(a,{BM:()=>h,GZ:()=>v,Go:()=>u,Hm:()=>g,IL:()=>t,O:()=>o,QK:()=>j,RJ:()=>b,Rx:()=>p,Z:()=>y,_Y:()=>s,_y:()=>d,aB:()=>r,bC:()=>n,bS:()=>x,ie:()=>c,jt:()=>m,ko:()=>i,nY:()=>N});const t=2,s="/adopter/getSingleAdopter/",n="/dashboard/dashboardCard",i="/admin/latestShelters",d="/adopter/getAllAdopterGraph",r="/shelter/getAllShelter",o="/admin/getAllAdopterByAdmin/",c=[...(()=>{const e=[];for(let a=1;a<=291;a+=10){const l=a+9<=300?a+9:300;e.push({label:`${a} - ${l} cats`,value:[a,l]})}return e.push({label:"300+ Cats",value:"300+ Cats"}),e.push({label:"Don't know yet",value:"Don't know yet"}),e})()],u=[...(()=>{const e=[];return["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"].forEach((a=>{e.push({label:a,value:a})})),e})()],h=[{label:"MULTI CAT",value:"42662009471125"},{label:"HEALTHY CAT",value:"42661956550805"},{label:"UNSCENTED",value:"42662019858581"},{label:"WOOD PELLETS",value:"45119920930965"}],m=[{label:"Weekly",value:"week"},{label:"Monthly",value:"month"}],v=[{label:"1 Pack",value:1},{label:"2 Packs",value:2},{label:"3 Packs",value:3},{label:"4 Packs",value:4},{label:"5 Packs",value:5}],p=[...(()=>{const e=[];e.push({label:"1 week",value:1});for(let a=2;a<=12;a+=1)e.push({label:`${a} weeks`,value:a});return e})()],b=[...(()=>{const e=[];e.push({label:"1 month",value:1});for(let a=2;a<=12;a+=1)e.push({label:`${a} months`,value:a});return e})()],x=[{label:"10 records",value:"10"},{label:"20 records",value:"20"},{label:"30 records",value:"30"},{label:"40 records",value:"40"},{label:"50 records",value:"50"}],g=[{label:"Today",value:"daily"},{label:"Current Month",value:"monthly"},{label:"Current Year",value:"yearly"}],y=[{label:"Shelter Name",dataKey:"shelterName",align:"left"},{label:"Email",dataKey:"email",align:"left"},{label:"State",dataKey:"state",align:"center"},{label:"Invites sent",dataKey:"totalAdopters",align:"center"},{label:"Redemptions",dataKey:"redeem",align:"center"},{label:"Ratio",dataKey:"ratio",align:"center"},{label:"Status",dataKey:"status",align:"center"},{label:"Action",dataKey:"action",align:"center"}],j=[{label:"Shelter Order Name",dataKey:"shelterName",align:"left"},{label:"Shelter Email",dataKey:"email",align:"left"},{label:"State",dataKey:"state",align:"center"},{label:"Product",dataKey:"product",align:"center"},{label:"Quantity",dataKey:"quantity",align:"center"},{label:"Frequency",dataKey:"frequency",align:"center"},{label:"Order Date",dataKey:"lastSentDate",align:"center"},{label:"Subscription Status",dataKey:"status",align:"center"}],N=[{label:"Shelter Name",dataKey:"shelterName",align:"left"},{label:"Email",dataKey:"email",align:"left"},{label:"State",dataKey:"state",align:"center"},{label:"Invites Sent",dataKey:"totalAdopters",align:"center"},{label:"Redeemed",dataKey:"redeem",align:"center"},{label:"Repeat",dataKey:"repeatPercentage",align:"center"},{label:"Status",dataKey:"status",align:"center"},{label:"Subscription Status",dataKey:"subscriptionStatus",align:"center"},{label:"Action",dataKey:"action",align:"center"}]},5547:(e,a,l)=>{l.d(a,{DZ:()=>i,qB:()=>n,zE:()=>d});var t=l(9804),s=(l(8359),l(579));const n=e=>"42662009471125"===e?"MULTI CAT":"42661956550805"===e?"HEALTHY CAT":"42662019858581"===e?"UNSCENTED":"45119920930965"===e?"WOOD PELLETS":"Unknown Product",i=e=>"BLOCKED"===e?(0,s.jsx)(t.A,{className:"bg-dark",pill:!0,children:"Blocked"}):"ACCEPTED"===e?(0,s.jsx)(t.A,{className:"bg-success",pill:!0,children:"Active"}):"WAITING"===e?(0,s.jsxs)(t.A,{className:"bg-info",pill:!0,children:["Waiting on ",(0,s.jsx)("br",{})," Shelter"]}):(0,s.jsx)(t.A,{className:"bg-dark",pill:!0,children:"No status"}),d=e=>"active"===e?(0,s.jsx)(t.A,{className:"bg-success",pill:!0,children:e}):"."===e?(0,s.jsx)(t.A,{className:"bg-info",pill:!0,children:e}):(0,s.jsx)(t.A,{className:"bg-danger",pill:!0,children:e})}}]);
//# sourceMappingURL=850.95893709.chunk.js.map